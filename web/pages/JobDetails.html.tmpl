<!DOCTYPE html>

<html>
    <head>
        <!--<link rel="stylesheet" href="/static/simple.min.css">-->
        <link rel="stylesheet" href="/static/pico.min.css">
        <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
        <link rel="manifest" href="/static/site.webmanifest">
    </head>
    <body class="container-fluid">
        <header>
            <nav aria-label="breadcrumb">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li>{{.JobName}} Stats</li>
                </ul>
            </nav>
            <h2>Statistics for {{.JobName}}</h2>
        </header>

        <main>
            
            <details open={true}>
                <summary>Stats</summary>
                <table>
                    <tr>
                        <td rowspan="2" style="vertical-align:top;"><b>RSS</b></td>
                        <td>Min:</td>
                        <td>{{convertBytes .MinRSS}} (<a href="/run.html?id={{.MinRSSID}}">Details</a>)</td>
                    </tr>
                    <tr>
                        <td>Max:</td>
                        <td>{{convertBytes .MaxRSS}} (<a href="/run.html?id={{.MaxRSSID}}">Details</a>)</td>
                    </tr>
                    <tr>
                        <td rowspan="2" style="vertical-align:top;"><b>Duration</b></td>
                        <td>Min:</td>
                        <td>{{.MinDuration}} (<a href="/run.html?id={{.MinDurationID}}">Details</a>)</td>
                    </tr>
                    <tr>
                        <td>Max:</td>
                        <td>{{.MaxDuration}} (<a href="/run.html?id={{.MaxDurationID}}">Details</a>)</td>
                    </tr>
                </table>
            </details>
            <br>

            <details open={true}>
                <summary>Hosts</summary>
                <table class="striped">
                    <thead>
                        <tr>
                            <th scope="col"></th>
                            <th scope="col">Successful</th>
                            <th scope="col">Failed</th>
                            <th scope="col">Denied</th>
                            <th scope="col">Total</th>
                        </tr>
                    </thead>
                    {{range $host,$count := .JobRunsCount }}
                    <tr>
                        <td ><b>{{$host}}</b></td>
                        <td style="text-align:left">{{$count.Successful}}</td>
                        <td style="text-align:left">{{$count.Failed}}</td>
                        <td style="text-align:left">{{$count.Denied}}</td>
                        <td style="text-align:left">{{$count.Total}}</td>
                    </tr>
                    {{end}}
                    <tfoot>
                        <tr>
                        <th scope="row">Total</th>
                        <td style="text-align:left">{{.Total.Successful}}</td>
                        <td style="text-align:left">{{.Total.Failed}}</td>
                        <td style="text-align:left">{{.Total.Denied}}</td>
                        <td style="text-align:left">{{.Total.Total}}</td>
                        </tr>
                    </tfoot>
                </table>
            </details>
        </main>
    </body>
</html>